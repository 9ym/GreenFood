<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.kh.greenfood.review">


	<!-- 후기 글쓰기 -->
		<insert id="insertReview">
			insert into tbl_review (review_no, review_content, review_title)
				values(seq_review_reviewno.nextval, #{review_content}, #{review_title}) 
		</insert>

	<!-- 목록 -->
	<select id="getReviewList" resultType="ReviewVo">
		select * from tbl_review
			order by review_no desc 
	</select>
	
	<!-- 글 선택 -->
	<select id="selectReview" resultType="ReviewVo">
		select * from tbl_review
		where review_no = #{review_no}
	</select>
	
	<!-- 조회수 나타내기 -->
	<update id="updateReviewReadcount">
		update tbl_review set
			review_readcount = review_readcount + 1
			where review_no = #{review_no} 
	</update>
	
	<!-- 전체 글갯수 읽어오기 -->	
	<select id="reviewListCount" resultType="int">
		select count(*) from tbl_review
	</select>

</mapper>